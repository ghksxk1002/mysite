<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	<resultMap type="boardvo" id="resultMapList">
		<result column="no" property="no" />
		<result column="title" property="title" />
		<result column="contents" property="contents" />
		<result column="reg_date" property="regDate" />
		<result column="hit" property="hit" />
		<result column="group_no" property="groupNo" />
		<result column="order_no" property="orderNo" />
		<result column="depth_no" property="depth" />
		<result column="user_no" property="userNo" />
		<result column="name" property="userName" />
	</resultMap>
	
	<select id="findAll" resultMap="resultMapList" parameterType="map" resultType="boardvo">
		<![CDATA[ 
		select b.no, b.title, u.name, b.contents, b.hit, b.reg_date, u.no, b.group_no, b.order_no, b.depth_no
		  from board b, user u
		 where b.user_no = u.no
	  order by group_no desc, order_no asc
		 limit #{startIndex},5
		]]>
		
		
	</select>
	
	<select id="findByListLength" resultType="long">
		<![CDATA[ 
		select count(*) from board
		]]>
	</select>
	
</mapper>